Пояснение к выполненному заданию.


Все сделал в 1 файле (некрасиво, но компактно).
Использовались стандартные питоновские библиотеки.
В качестве iso генератора использовался genisoimage, предложенный в задаче.



Как применяется программа:

sudo python3 main.py <path> <percent>




Как работает программа:

Программа вычисляет необходимый размер до указанного заполнения.
Если указанный процент меньше текущего процента заполнения - программа завершает 
работу, записывать нет необходимости.
Далее пока занятое место в хранилище не будет заполненно до определенного процента
генерируются файлы с нулевыми записями случайного размера (до 150мб) в директории
/tmp/isofiller с помощью dd из /dev/zero
Потом с помощью genisoimage этот файл записывается в .iso формат на указанное 
устройство.
Логи записываются в /var/logs/isofiller/logs.log




Какие были трудности:

При указании процента заполнения 100 - запускаемая утилита genisoimage может
завершиться с ошибкой - недостаточно места на устройстве. Так как генерируя .iso
файл вес не будет идентичен (за счет метаданных, кодирования и тд), то процесс
подбора нужного идеального файла для полного заполнения устройства затруднен.
Красивого решения придумать не смог, решил это тем, что ловил исключения и если
это исключение про недостаток места И оставшееся место на устройстве меньше 4096
байт - то заканчивать заполнение устройства.





Что можно улучшить:

Можно улучшить логирование. Сделать отдельные логи для ошибок и т.д. Использовать
подключаемые модули с лог-декоратором. (Сделанные модули создания временного файла,
подсчета хеш-суммы, создания iso).
Также необходимо лучше оформить функцию fill класса ISOFiller (главная функция 
выполнения задачи).
Написать тесты и протестировать скрипт и отдельные модули.